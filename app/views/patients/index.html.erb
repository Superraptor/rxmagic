<p id="notice"><%= notice %></p>

<h1>Listing Patients</h1>

<%= form_for_filterrific @filterrific, html: { id: 'filterrific-no-ajax-auto-submit' } do |f| %>
  <div>
    <%= "Search" %><br>
    <%# give the search field the 'filterrific-periodically-observed' class for live updates %>
    <%= f.text_field(
      :search_query, class: 'form-control'
    ) %>
  </div>
  <br>
  <br>
  <div>
    <%= "Sorted by" %><br>
    <%= f.select(:sorted_by, @filterrific.select_options[:sorted_by], {}, { class: 'form-control' }) %>
    <%# See below for the Student.options_for_sorted_by presenter method %>
  </div>
  <br>
  <div>
    <%= link_to(
      'Reset filters',
      reset_filterrific_url,
    ) %>
  </div>
  <div>
    <%= f.submit 'Filter', class: 'btn btn-default' %>
  </div>
  <br>
  <br>
<% end %>

<%= render(
  :partial => 'patients/list',
  :locals => { :patients => @patients }
) %>

<br>

<%= link_to 'New Patient', new_patient_path %>